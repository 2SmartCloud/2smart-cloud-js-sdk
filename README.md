# Homie SDK

## Описание

Набор инструментов для управления устройств и их состоянием. В основе этого SDK лежит расширенный протокол [Homieio](https://homieiot.github.io/specification/).

## Расширение протокола

1.  В устройстве есть группа атрибутов $options, которая по формату повторяет Properties из ноды. Используется для хранения настроек устройства, как редактируемых, так и нет. Пример: `_/home/device/$options/some_option_`.
2. В устройстве есть группа атрибутов $telemetry, которая по формату повторяет Properties из ноды. Используется для хранения различной телеметрии и статистики. $stats не используется. Пример: `_/home/device/$telemetry/some_stat_`.
3. У ноды есть атрибут $state, по аналогии с устройством. Пример: `_/home/device/node/$state_`.
4. У ноды есть группа атрибутов $options, по аналогии с устройством. Пример: `_/home/device/node/$options`/some_option_.
5. У ноды есть группа атрибутов $telemetry, по аналогии с устройством. Пример: `_/home/device/node/$telemetry`/some_stat_.

Индикаторы устройства и ноды берутся из таких атрибутов:

1. Статус (состояние) - `$state`.
2. Сила сигнала - `$telemetry/signal`.
3. Уровень заряда батареи - `$telemetry/battery`.

Атрибут устройства `$stats`, из оригинального протокола, не поддерживается.

## Структура

1. [Broker](lib/Broker/README.md) - поддерживаемые транспортные протоколы.
2. [Device](lib/Device/README.md) - инструмент для создания/управления устройства.
3. [Node](lib/Node/README.md) - инструмент для создания/управления ноды.
4. [Property](lib/Property/README.md) - инструмент для создания/управления свойства.
5. [Sensor](lib/Sensor/README.md) - инструмент для создания/управления сенсора.
6. [ETL](lib/etl/README.md) - набор правил для трансформации данных.
7. [Homie](lib/homie/README.md) - набор инструментов для управления устройств и их состоянием.
7. [Bridge](lib/Bridge/README.md) - набор инструментов для разработчиков бриджей.
8. [Utils](lib/utils/README.md) - набор утилит.
